<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dex</title>
  <link href="./app.css" rel="stylesheet">
  <!-- new scoped CSS just for Dex -->
  <link href="./dex.css" rel="stylesheet">
</head>
<body>
  <div class="dex-wrap">
    <div class="dex-controls">
      <button class="dx-btn active" data-chain="all">All</button>
      <button class="dx-btn" data-chain="solana">Solana</button>
      <button class="dx-btn" data-chain="ethereum">Ethereum</button>
      <button class="dx-btn" data-chain="bsc">BSC</button>
      <button class="dx-btn" data-chain="base">Base</button>
      <button class="dx-btn" data-chain="arbitrum">Arbitrum</button>
      <button class="dx-btn" data-chain="optimism">Optimism</button>
      <button class="dx-btn" data-chain="polygon">Polygon</button>
    </div>

    <div class="dex-controls">
      <button class="dx-btn active" data-type="all">All</button>
      <button class="dx-btn" data-type="gainers">Gainers</button>
      <button class="dx-btn" data-type="losers">Losers</button>
      <button class="dx-btn" data-type="new">New &lt; 24h</button>
      <button class="dx-btn" data-type="hot">Hot TXNs</button>
    </div>

    <div class="dex-controls">
      <select id="volSel" class="dx-select">
        <option value="100000">Vol ≥ $100k</option>
        <option value="250000">Vol ≥ $250k</option>
        <option value="500000">Vol ≥ $500k</option>
      </select>
      <select id="liqSel" class="dx-select">
        <option value="100000">Liq ≥ $100k</option>
        <option value="250000">Liq ≥ $250k</option>
        <option value="500000">Liq ≥ $500k</option>
      </select>
      <select id="capSel" class="dx-select">
        <option value="0">Any Cap</option>
        <option value="1000000">MCap ≥ $1m</option>
        <option value="5000000">MCap ≥ $5m</option>
      </select>
      <select id="sortSel" class="dx-select">
        <option value="vol">Sort: Vol 24h</option>
        <option value="liq">Sort: Liquidity</option>
        <option value="mcap">Sort: Market Cap</option>
      </select>
    </div>

    <div class="dx-card">
      <!-- DexScreener embedded here -->
      <iframe 
        id="dexFrame" 
        class="dx-iframe" 
        src="https://dexscreener.com/ethereum" 
        loading="lazy">
      </iframe>
    </div>
  </div>

  <script>
    // When a chain button is clicked, reload Dexscreener with that chain
    const frame = document.getElementById('dexFrame');
    const chainBtns = document.querySelectorAll('.dx-btn[data-chain]');
    chainBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        chainBtns.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const chain = btn.dataset.chain;
        frame.src = chain === 'all' 
          ? 'https://dexscreener.com' 
          : `https://dexscreener.com/${chain}`;
      });
    });
  </script>
</body>
</html>

